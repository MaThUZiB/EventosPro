{% extends 'core.html' %}
{% block content %}
{% load static %}
<section class="min-h-[80vh] flex items-center justify-center px-6 py-12">
  <div class="w-full max-w-5xl bg-gray-900/90 border border-gray-700 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-md text-white">

    <!-- Encabezado -->
    <div class="p-8 border-b border-gray-700 bg-gradient-to-r from-blue-700/30 to-purple-700/30">
      <h1 class="text-4xl font-extrabold text-center tracking-tight">Confirmar Compra</h1>
    </div>

    <!-- Contenedor principal -->
    <div class="grid md:grid-cols-2 gap-8 p-8">

      <!-- üßæ Detalle de la compra -->
      <div class="space-y-6 compra-detalle opacity-0">
        <h2 class="text-2xl font-semibold mb-4 border-b border-gray-700 pb-2">Detalle del Compra</h2>

        <ul class="space-y-3">
          {% for detalle in detalles %}
          <li class="flex justify-between bg-gray-800/60 p-4 rounded-lg border border-gray-700 hover:border-blue-500/40 transition">
            <span class="font-medium text-gray-200">üéüÔ∏è Asiento {{ detalle.nombre_asiento }}</span>
            <span class="font-semibold text-green-400">${{ detalle.subtotal }}</span>
          </li>
          {% endfor %}
        </ul>

        <div class="flex justify-between items-center border-t border-gray-700 pt-4 text-lg">
          <span class="font-bold">Total</span>
          <span class="font-bold text-green-400 text-2xl">${{ compra.total }}</span>
        </div>
      </div>

      <!-- üí≥ M√©todos de pago -->
      <form method="POST" class="space-y-4 pago-opciones opacity-0">
        {% csrf_token %}
        <h2 class="text-2xl font-semibold border-b border-gray-700 pb-2">Selecciona tu m√©todo de pago</h2>

        <div class="space-y-4">
          <!-- Tarjeta -->
          <button name="metodo" value="WebPay"
            class="w-full flex items-center justify-between bg-gray-800 hover:bg-blue-700/60 p-4 rounded-xl border border-gray-700 transition transform hover:-translate-y-1 hover:scale-[1.02] shadow-md">
            <div class="flex items-center gap-4">
              <img src="{% static 'img/webpay.png' %}" alt="Tarjeta" class="w-30 h-10">
              <span class="font-semibold text-lg">Tarjeta de cr√©dito / d√©bito</span>
            </div>
          </button>

          <!-- Transferencia -->
          <button name="metodo" value="Transferencia"
            class="w-full flex items-center justify-between bg-gray-800 hover:bg-yellow-700/60 p-4 rounded-xl border border-gray-700 transition transform hover:-translate-y-1 hover:scale-[1.02] shadow-md">
            <div class="flex items-center gap-4">
              <img src="{% static 'img/transferencia.png' %}" alt="Transferencia" class="w-30 h-10">
              <span class="font-semibold text-lg">Transferencia bancaria</span>
            </div>
          </button>

          <!-- Efectivo -->
          <button name="metodo" value="PayPal"
            class="w-full flex items-center justify-between bg-gray-800 hover:bg-green-700/60 p-4 rounded-xl border border-gray-700 transition transform hover:-translate-y-1 hover:scale-[1.02] shadow-md">
            <div class="flex items-center gap-4">
              <img src="{% static 'img/paypal.jpg' %}" alt="PayPal" class="w-30 h-10">
              <span class="font-semibold text-lg">PayPal</span>
            </div>
          </button>
        </div>
      </form>
    </div>
  </div>
</section>

<!-- GSAP animaci√≥n -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  gsap.to(".compra-detalle", {
    opacity: 1,
    y: 0,
    duration: 0.7,
    ease: "power2.out"
  });

  gsap.to(".pago-opciones", {
    opacity: 1,
    y: 0,
    duration: 0.8,
    delay: 0.2,
    ease: "power2.out"
  });
});
</script>
{% endblock %}
