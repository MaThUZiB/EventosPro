{% extends 'core.html' %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 py-10">
  <h1 class="text-3xl font-bold text-white mb-6">Confirmar Compra</h1>

  <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-xl text-white font-semibold mb-1">{{ evento.nombre }}</h2>
    <p class="text-gray-400 mb-1">{{ evento.ubicacion }}</p>

    {% if sector %}
      <p class="text-gray-300 mb-4">Sector: <span class="font-semibold text-white">{{ sector.nombre }}</span></p>
    {% endif %}

    <form method="POST" action="{% url 'comprar_invitado' %}">
      {% csrf_token %}

      {% if sector %}<input type="hidden" name="sector" value="{{ sector.id }}">{% endif %}

      <label class="block text-gray-300 mb-2">Cantidad de Entradas:</label>
      <select name="cantidad" class="w-full bg-gray-900 text-gray-200 border border-gray-700 rounded-lg p-3 mb-4">
        <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
      </select>

      <label class="block text-gray-300 mb-2">Correo (para enviar entrada):</label>
      <input name="email" type="email" required
             class="w-full bg-gray-900 text-gray-200 border border-gray-700 rounded-lg p-3 mb-6"
             placeholder="tucorreo@dominio.com">

      <div class="flex justify-between items-center mb-6">
        <span class="text-gray-300">Total:</span>
        <span class="text-green-400 text-2xl font-bold">${{ total }}</span>
      </div>

      <button class="w-full py-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition">
        Finalizar Compra ðŸŽ«
      </button>
    </form>
  </div>
</div>
{% endblock %}
